
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Connecting%20to%20Kelvin2/">
      
      
        <link rel="next" href="../Running%20Jobs/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.10">
    
    
      
        <title>Quick-Start Guide - NIHPC Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slates" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-start-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="NIHPC Documentation" class="md-header__button md-logo" aria-label="NIHPC Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NIHPC Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick-Start Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slates" data-md-color-primary="red" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Kelvin2%20Overview/" class="md-tabs__link">
        
  
    
  
  Kelvin2 Overview

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Connecting%20to%20Kelvin2/" class="md-tabs__link">
        
  
    
  
  Connecting to Kelvin2

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Quick-Start Guide

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Running%20Jobs/" class="md-tabs__link">
        
  
    
  
  Running Jobs

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Application%20Guides/" class="md-tabs__link">
        
  
    
  
  Application Guides

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Compilers/" class="md-tabs__link">
        
  
    
  
  Compilers

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Kelvin2%20Hardware/" class="md-tabs__link">
        
  
    
  
  Kelvin2 Hardware

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="NIHPC Documentation" class="md-nav__button md-logo" aria-label="NIHPC Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    NIHPC Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Kelvin2%20Overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kelvin2 Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Connecting%20to%20Kelvin2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connecting to Kelvin2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Quick-Start Guide
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Quick-Start Guide
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#login-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Login nodes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-your-jobs-on-compute-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      Running your jobs on compute nodes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Running your jobs on compute nodes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-by-step-guide-to-submitting-your-first-job-on-kelvin2" class="md-nav__link">
    <span class="md-ellipsis">
      Step-by-step guide to submitting your first job on Kelvin2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storing-your-files-on-kelvin2" class="md-nav__link">
    <span class="md-ellipsis">
      Storing your files on Kelvin2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storing your files on Kelvin2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#home-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Home Directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shared-scratch-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Shared Scratch Directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporary-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Temporary Directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mcclay-research-data-storage" class="md-nav__link">
    <span class="md-ellipsis">
      McClay Research Data Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transferring-data-with-kelvin2" class="md-nav__link">
    <span class="md-ellipsis">
      Transferring Data with Kelvin2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transferring Data with Kelvin2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transfer-files-using-graphical-interfaces" class="md-nav__link">
    <span class="md-ellipsis">
      Transfer files using graphical interfaces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transfer-small-files-and-folders-using-scp" class="md-nav__link">
    <span class="md-ellipsis">
      Transfer small files and folders using scp
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transfer-large-amounts-of-data" class="md-nav__link">
    <span class="md-ellipsis">
      Transfer large amounts of data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Running%20Jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Jobs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Application%20Guides/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Application Guides
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Compilers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compilers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Kelvin2%20Hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kelvin2 Hardware
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="quick-start-guide">Quick-Start Guide</h1>
<h2 id="login-nodes">Login nodes</h2>
<p>After connecting to Kelvin2 you will start your session in one of four login nodes as indicated in the terminal window.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">[</span>&lt;username&gt;@login1<span class="w"> </span><span class="o">[</span>kelvin2<span class="o">]</span><span class="w"> </span>~<span class="o">]</span>$
</code></pre></div>
<p>While using a login node, you are only permitted to do small tasks such as</p>
<ul>
<li>managing files</li>
<li>small data transfers</li>
<li>creating, editing and submitting jobscripts</li>
<li>checking and managing jobs</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Please do not run computationally expensive jobs on a login node. There are only 4 login nodes split between all Kelvin2 users and running high workloads here will seriously impact the other users.</p>
</div>
<h2 id="running-your-jobs-on-compute-nodes">Running your jobs on compute nodes</h2>
<p>A user wishing to run a job on a compute node must first write a <em>batch script</em>. This batch script contains specifications for the required computational resources, instructions for loading program dependencies, and commands to execute the code. Once the batch script is complete, this is submitted to a job scheduler called <a href="https://slurm.schedmd.com/documentation.html" target="_blank">SLURM</a> and the job will subsequently be queued and run on a compute node when resources become available. The scheduler ensures that all users get their fair share of system resources. </p>
<p>This process is quite different to how you normally run programs on your own personal computer. As such, the following step-by-step guide explains how to run a simple Python 'Hello World' job on a compute node using a batch script submitted to the job scheduler. This walkthrough is designed to be very minimal to provide a first-time user with an overview of the process. More information is contained in the Running Jobs documentation page.</p>
<h3 id="step-by-step-guide-to-submitting-your-first-job-on-kelvin2">Step-by-step guide to submitting your first job on Kelvin2</h3>
<p>Click the following steps to expand:</p>
<details class="info">
<summary>1. Create Python executable file</summary>
<ul>
<li>Enter the following command into your Kelvin2 terminal to create the file for our 'Hello World' program
    <div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>vi<span class="w"> </span>hello-world.py
</code></pre></div></li>
<li>Copy the following lines of Python code into the file, then save and exit vim. 
    <div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">import</span> <span class="nn">os</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello world! I am running on&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;HOSTNAME&#39;</span><span class="p">])</span>
</code></pre></div>
    This code will print a hello world message and the name of the compute node the code is running on to the standard output stream. If you were running this program directly, this would be printed to your terminal.</li>
</ul>
</details>
<details class="info">
<summary>2. Create SLURM batch script</summary>
<ul>
<li>Enter the following command into your Kelvin2 terminal to create the batch script file that we will use to submit <code>hello-world.py</code> to the job scheduler.
    <div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>vi<span class="w"> </span>hello-world-jobscript.sh
</code></pre></div></li>
<li>
<p>Copy the following lines of code into the file, then save and exit vim. 
    <div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c1">#SBATCH --output=hello-world-job.output</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">#SBATCH --time=00:00:10</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>module<span class="w"> </span>load<span class="w"> </span>apps/python3/3.10.5/gcc-9.3.0
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>python3<span class="w"> </span>hello-world.py
</code></pre></div>
  In this example, the batch script simply specifies:</p>
<ul>
<li>the file in which the program output will be written</li>
<li>a time limit after which the job will be automatically closed if it has not yet completed</li>
<li>which Python module should be loaded to run the code</li>
<li>a line which uses a bash command to execute our Python program</li>
</ul>
</li>
</ul>
</details>
<details class="info">
<summary>3. Submit the batch script</summary>
<ul>
<li>Enter the following command into your Kelvin2 terminal to submit the batch script to the scheduler. The job will then be queued and ran on a compute node whenever resources become available.
  <div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">[</span>&lt;username&gt;@login1<span class="w"> </span><span class="o">[</span>kelvin2<span class="o">]</span><span class="w"> </span>~<span class="o">]</span><span class="nv">$sbatch</span><span class="w"> </span>hello-world-jobscript.sh
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>Submitted<span class="w"> </span>batch<span class="w"> </span>job<span class="w"> </span>&lt;jobid&gt;
</code></pre></div></li>
</ul>
</details>
<details class="info">
<summary>4. Check Status of Job</summary>
<ul>
<li>Enter the following command into your Kelvin2 terminal to check the status of your submitted jobs.
  <div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">[</span>&lt;username&gt;@login1<span class="w"> </span><span class="o">[</span>kelvin2<span class="o">]</span><span class="w"> </span>~<span class="o">]</span><span class="nv">$squeue</span><span class="w"> </span>-u<span class="w"> </span>&lt;username&gt;
</code></pre></div></li>
<li>If you were quick typing the above command, your may see your job status as Running (R) or Pending (PD). If you do not see your job in your queue it means your job is already complete. </li>
</ul>
</details>
<details class="info">
<summary>5. View output of job</summary>
<ul>
<li>After the job is complete, enter the following command into your Kelvin2 terminal to view the output of your program.
  <div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w">  </span><span class="o">[</span>&lt;username&gt;@login1<span class="w"> </span><span class="o">[</span>kelvin2<span class="o">]</span><span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>cat<span class="w"> </span>hello-world-job.output
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span>hello<span class="w"> </span>world!<span class="w"> </span>I<span class="w"> </span>am<span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>node167
</code></pre></div></li>
<li>You have now successfully ran a job on a compute node.</li>
</ul>
</details>
<h2 id="storing-your-files-on-kelvin2">Storing your files on Kelvin2</h2>
<h3 id="home-directory">Home Directory</h3>
<p>Your home directory is found at <code>/users/$USER</code>. If you followed the step-by-step guide above, then this is where you have stored <code>hello-world.py</code>, <code>hello-world-jobscript.sh</code> and <code>hello-world-job.output</code>.</p>
<p>By default, the contents of your Home directory are private. You can check permissions using the <code>ls</code> command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">[</span>&lt;username&gt;@login1<span class="w"> </span><span class="o">[</span>kelvin2<span class="o">]</span><span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>ls<span class="w"> </span>-ald<span class="w"> </span><span class="nv">$HOME</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>drwx------<span class="w"> </span><span class="m">17</span><span class="w"> </span>&lt;username&gt;<span class="w"> </span>clusterusers<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Oct<span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">10</span>:12<span class="w"> </span>/users/&lt;username&gt;
</code></pre></div>
<p>Each user has a quota for how much data (50GB) and how many files (100k) they can store in their home directory. The limit on the number of files appears very large, however some user installations can generate lots of small files (e.g. Anaconda) which can breach this limit.  The quota can be checked using the <code>quota -s</code> command as follows:
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">[</span>&lt;username&gt;@login1<span class="w"> </span><span class="o">[</span>kelvin2<span class="o">]</span><span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>quota<span class="w"> </span>-s
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>Disk<span class="w"> </span>quotas<span class="w"> </span><span class="k">for</span><span class="w"> </span>user<span class="w"> </span>&lt;username&gt;<span class="w"> </span><span class="o">(</span>uid<span class="w"> </span>&lt;userid&gt;<span class="o">)</span>:
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">     </span>Filesystem<span class="w">   </span>space<span class="w">   </span>quota<span class="w">   </span>limit<span class="w">   </span>grace<span class="w">   </span>files<span class="w">   </span>quota<span class="w">   </span>limit<span class="w">   </span>grace
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>storage1:/export/users
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">                 </span>36512K<span class="w">  </span>51200M<span class="w">  </span>76800M<span class="w">             </span><span class="m">292</span><span class="w">    </span>100k<span class="w">    </span>150k
</code></pre></div></p>
<p>In this case, the user is using 36512KB out of their 50GB disk space quota and has 292 files out of their 100k file limit quota. </p>
<h3 id="shared-scratch-directory">Shared Scratch Directory</h3>
<p>Users also have access to a Shared Scratch directory <code>/mnt/scratch2/users/$USER</code>.</p>
<p>The Shared Scratch directory does not have a defined quota for each user and is therefore more suitable for storing larger amounts of data. However, the Shared Scratch directory has a total capacity of 2PB and therefore any data that has not been accessed in the previous 90 days is subject to deletion. </p>
<p>By default, the Shared Scratch directory is more open than your Home directory. You can check the permissions using the <code>ls</code> command as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">[</span>&lt;username&gt;@login1<span class="w"> </span><span class="o">[</span>kelvin2<span class="o">]</span><span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>ls<span class="w"> </span>-ald<span class="w"> </span>/mnt/scratch2/users/<span class="nv">$USER</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>drwxr-x---<span class="w"> </span><span class="m">17</span><span class="w"> </span>&lt;username&gt;<span class="w"> </span>clusterusers<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Sep<span class="w"> </span><span class="m">21</span><span class="w"> </span><span class="m">13</span>:52<span class="w"> </span>/mnt/scratch2/users/&lt;username&gt;
</code></pre></div>
<p>This Shared Scratch directory is typically used for</p>
<ul>
<li>sharing data between cluster users</li>
<li>temporary storage of large amounts of data (either as input to or output from jobs)</li>
<li>user installations that generate a large number of small files (e.g. using Anaconda)</li>
</ul>
<h3 id="temporary-directory">Temporary Directory</h3>
<p>Each compute node has a local scratch directory <code>/tmp</code> for storing data during a job. Although using this storage may result in faster read/write times during a job, this data will automatically be deleted when the job completes. </p>
<p>The temporary directory is typically used for </p>
<ul>
<li>temporary files produced during a job that are not required after job completion</li>
<li>files that need to be read/written to multiple times within a job</li>
</ul>
<h3 id="mcclay-research-data-storage">McClay Research Data Storage</h3>
<p>QUB PIs may also request access to the McClay Research Data Storage (McClayRDS) for the duration of their research project. The storage space will be assigned to individual research projects and access is shared amongst members of that research group. Access can be requested by filling in the application form <a href="https://libguides.qub.ac.uk/ResearchDataManagement/ActiveDataStorageUnit" target="_blank">here</a>. Once assigned a project code, the directory is accessible at  <code>/mnt/autofs/mcclayrds-projects/&lt;project-code&gt;</code>. </p>
<p>McClayRDS is typically used for</p>
<ul>
<li>storage of raw data that is actively being used during a research project</li>
<li>data that is required to be stored in a secure environment, replicated to a second site.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Data in the McClayRDS is replicated to a second site to protect against data loss from disk failure/damage. The data sync occurs every 20 mins. This data is not backed up, so data loss from user modification or deletion will not be recoverable.</p>
</div>
<h3 id="storage-summary">Storage Summary</h3>
<table>
<thead>
<tr>
<th>Description</th>
<th>Directory</th>
<th>Disk Space Limit</th>
<th>File Number Limit</th>
<th>File Deletion Policy</th>
</tr>
</thead>
<tbody>
<tr>
<td>Home</td>
<td><code>/users/$USER</code></td>
<td>50GB</td>
<td>100k</td>
<td>No automatic file deletion</td>
</tr>
<tr>
<td>Scratch</td>
<td><code>/mnt/scratch2/users/$USER</code></td>
<td>N/A</td>
<td>N/A</td>
<td>Deletion after 90 days without access</td>
</tr>
<tr>
<td>Temp</td>
<td><code>/tmp</code></td>
<td>Disk Space on Node</td>
<td>N/A</td>
<td>Deletion after session ends</td>
</tr>
<tr>
<td>McClayRDS</td>
<td><code>/mnt/autofs/mcclayrds-projects/&lt;project-code&gt;</code></td>
<td>Project specific</td>
<td>N/A</td>
<td>Deletion after specified data retention period ends</td>
</tr>
</tbody>
</table>
<h2 id="transferring-data-with-kelvin2">Transferring Data with Kelvin2</h2>
<h3 id="transfer-files-using-graphical-interfaces">Transfer files using graphical interfaces</h3>
<p>Files can be simply transferred to and from Kelvin2 using a 'drag and drop' interface with a graphical file browser such as <a href="https://mobaxterm.mobatek.net" target="_blank">MobaXterm</a> or <a href="https://winscp.net/eng/index.php" target="_blank">WinSCP</a>.</p>
<h3 id="transfer-small-files-and-folders-using-scp">Transfer small files and folders using <code>scp</code></h3>
<p>Individual files can be transferred between your local computer and Kelvin2 by entering the following commands into your local terminal:</p>
<p><strong>Uploading a file</strong></p>
<p>From Inside the QUB Network:
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>scp<span class="w"> </span>path/to/local/file.txt<span class="w"> </span>&lt;username&gt;@kelvin2.qub.ac.uk:/path/on/kelvin2
</code></pre></div></p>
<p>From Outside the QUB Network:
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>scp<span class="w"> </span>-P<span class="w"> </span><span class="m">55890</span><span class="w"> </span>-i<span class="w"> </span>/path/to/ssh/private/key<span class="w"> </span>path/to/local/file.txt<span class="w"> </span>&lt;username&gt;@login.kelvin.alces.network:/path/on/kelvin2
</code></pre></div></p>
<p><strong>Downloading a file</strong></p>
<p>From Inside the QUB Network:
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>scp<span class="w"> </span>&lt;username&gt;@kelvin2.qub.ac.uk:/path/to/kelvin2/file.txt<span class="w"> </span>path/to/local/directory/
</code></pre></div></p>
<p>From Outside the QUB Network:
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>scp<span class="w"> </span>-P<span class="w"> </span><span class="m">55890</span><span class="w"> </span>-i<span class="w"> </span>/path/to/ssh/private/key<span class="w"> </span>&lt;username&gt;@login.kelvin.alces.network:/path/to/kelvin2/file.txt<span class="w"> </span>path/to/local/directory/
</code></pre></div></p>
<p>Directories and their contents can also be transferred by specifing a directory instead of a file and using <code>scp</code> with a <code>-r</code> flag (for recursive).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using <code>scp</code>, note that the <code>-P</code> flag to specify the port is uppercase. This is a frequent cause of confusion since the flag to specify the port when using the <code>ssh</code> command is lowercase.</p>
</div>
<h3 id="transfer-large-amounts-of-data">Transfer large amounts of data</h3>
<p>For large amounts of data, instead of using the login nodes as shown above, please use one of the data movement nodes as this will be faster and cause less disruption to other users. The host names of these are given below:</p>
<ul>
<li>dm1.kelvin.alces.network</li>
<li>dm2.kelvin.alces.network</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are transferring a large number of small files, it is recommended to first pack the files into an "archive" file using tools like zip or tar. For large data transfers it may also be worth looking into alternative methods such as <code>rsync</code> which allow file transfers to be stopped and restarted if required. For further support with large date transfers, please <a href="https://www.ni-hpc.ac.uk/contact/" target="_blank">contact us</a>.</p>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>